<!doctype html>
<html lang="en">
<head>
  <script src="https://js.stripe.com/v3/"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bright Future Youth Foundation | BFYF</title>
  <meta name="description" content="BFYF - empowering youth through tutoring, mentorship and career skills. Get involved: volunteer, donate, partner.">
  <meta name="author" content="Bright Future Youth Foundation">
  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Leaflet for maps -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
  <!-- AOS for scroll animations -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">

  <style>
    /* CSS Reset + base */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;line-height:1.5;color:#222;background:#f6f7fb}
    a{color:var(--bs-primary)}

    /* Navbar */
    .navbar-brand{font-weight:700;letter-spacing:0.4px}
    .nav-link{font-weight:600}

    /* Hero */
    .hero{min-height:70vh;background:linear-gradient(0deg, rgba(0,0,0,0.35), rgba(0,0,0,0.35)), url('https://images.unsplash.com/photo-1529070538774-1843cb3265df?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;color:#fff;display:flex;align-items:center}
    .hero h1{font-size:clamp(2rem,4.2vw,3.2rem);font-weight:800}
    .hero .lead{font-size:clamp(1rem,2.2vw,1.25rem)}

    /* Cards */
    .card.rounded-4{border:none;border-radius:16px}
    .card-shadow{box-shadow:0 8px 30px rgba(18,38,63,0.08)}

    /* Programs grid */
    .programs-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1.25rem}

    /* Responsive helpers */
    @media (max-width: 992px){.programs-grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width: 576px){.programs-grid{grid-template-columns:1fr}}

    /* Footer */
    footer{background:#0b1220;color:#cdd6e0}

    /* Forms */
    .form-control:focus{box-shadow:0 0 0 .15rem rgba(13,110,253,.15)}
    .invalid{border-color:#dc3545!important}
    .error-msg{color:#dc3545;font-size:.875rem;margin-top:.25rem}

    /* Stories carousel image */
    .story-img{height:320px;object-fit:cover;border-radius:12px}

    /* Lightbox overlay */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:1100;padding:1.25rem;opacity:0;pointer-events:none;transition:opacity .25s}
    .lightbox.show{opacity:1;pointer-events:auto}
    .lightbox img{max-width:100%;max-height:85vh;border-radius:8px}

    /* subtle animation */
    .fade-up{transform:translateY(12px);opacity:0;transition:all .6s ease-out}
    .fade-up.show{transform:none;opacity:1}

    /* small utilities */
    .chip{display:inline-block;padding:.25rem .6rem;border-radius:999px;background:#fff;border:1px solid rgba(0,0,0,0.06);font-weight:600}

  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top shadow-sm">
    <div class="container">
      <a class="navbar-brand" href="#home">BFYF</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNav">
        <ul class="navbar-nav ms-auto align-items-lg-center">
          <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
          <li class="nav-item"><a class="nav-link" href="#programs">Programs</a></li>
          <li class="nav-item"><a class="nav-link" href="#impact">Impact</a></li>
          <li class="nav-item"><a class="nav-link" href="#stories">Stories</a></li>
          <li class="nav-item"><a class="nav-link" href="#getinvolved">Get Involved</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
          <li class="nav-item ms-2"><a class="btn btn-danger btn-sm fw-bold" href="#donate"><i class="bi bi-heart-fill"></i> Donate</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main id="site-main">
    <!-- HERO -->
    <section id="home" class="hero">
      <div class="container text-center">
        <h1 data-aos="fade-up">Empowering Youth, Building Futures</h1>
        <p class="lead mb-4" data-aos="fade-up" data-aos-delay="80">Together we break the cycle of poverty through education, mentorship and career skills.</p>
        <div data-aos="fade-up" data-aos-delay="160">
          <a href="#getinvolved" class="btn btn-warning btn-lg me-2">Get Involved</a>
          <a href="#programs" class="btn btn-outline-light btn-lg">Explore Programs</a>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="py-5">
      <div class="container">
        <div class="row align-items-center g-4">
          <div class="col-lg-6" data-aos="fade-right">
            <h2>About Bright Future Youth Foundation</h2>
            <p class="lead">Founded in 2015, BFYF provides free after-school tutoring, mentorship and career-readiness workshops for underprivileged youth across community hubs.</p>
            <p>We partner with local schools and corporates to provide safe learning spaces, transport and volunteer tutors. Our goal is measurable learning outcomes and sustainable pathways to further education and employment.</p>
            <div class="mt-3">
              <span class="chip me-2">1,200+ learners</span>
              <span class="chip me-2">15k tutoring hrs</span>
              <span class="chip">8 community hubs</span>
            </div>
          </div>
          <div class="col-lg-6" data-aos="zoom-in">
            <img src="https://images.unsplash.com/photo-1557800636-894a64c1696f?q=80&w=1600&auto=format&fit=crop" alt="Learners and Mentors" class="img-fluid rounded-4 card-shadow">
          </div>
        </div>
      </div>
    </section>

    <!-- PROGRAMS -->
    <section id="programs" class="py-5 bg-white">
      <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2>Our Programs</h2>
          <small class="text-muted">Built with volunteer tutors and corporate partners</small>
        </div>
        <div class="programs-grid">
          <article class="card p-3 rounded-4 card-shadow" data-aos="fade-up">
            <img src="https://images.unsplash.com/photo-1519452575417-564c1401ecc0?q=80&w=1600&auto=format&fit=crop" alt="Tutoring session" class="img-fluid rounded-3 mb-3">
            <h5>After-School Tutoring</h5>
            <p>Small-group academic support in Maths, Science, English and study skills with trained volunteer tutors.</p>
            <a class="stretched-link" href="#getinvolved"></a>
          </article>
          <article class="card p-3 rounded-4 card-shadow" data-aos="fade-up" data-aos-delay="60">
            <img src="https://images.unsplash.com/photo-1552346154-21d32810aba3?q=80&w=1600&auto=format&fit=crop" alt="Mentorship" class="img-fluid rounded-3 mb-3">
            <h5>Mentorship</h5>
            <p>One-to-one and peer mentoring that builds confidence, goal-setting habits and emotional resilience.</p>
            <a class="stretched-link" href="#getinvolved"></a>
          </article>
          <article class="card p-3 rounded-4 card-shadow" data-aos="fade-up" data-aos-delay="120">
            <img src="https://images.unsplash.com/photo-1513258496099-48168024aec0?q=80&w=1600&auto=format&fit=crop" alt="Career workshop" class="img-fluid rounded-3 mb-3">
            <h5>Skills & Career Workshops</h5>
            <p>Practical sessions on CV writing, interview prep, digital literacy and career exploration.</p>
            <a class="stretched-link" href="#getinvolved"></a>
          </article>
        </div>
      </div>
    </section>

    <!-- IMPACT -->
    <section id="impact" class="py-5">
      <div class="container text-center">
        <h2>Our Impact</h2>
        <p class="lead">Measuring success through learners' outcomes and community engagement.</p>
        <div class="row g-4 mt-4">
          <div class="col-md-3" data-aos="flip-left">
            <div class="p-3 border rounded-3 bg-white card-shadow">
              <h3 class="mb-0">1,200+</h3>
              <small class="text-muted">Learners Supported</small>
            </div>
          </div>
          <div class="col-md-3" data-aos="flip-left" data-aos-delay="60">
            <div class="p-3 border rounded-3 bg-white card-shadow">
              <h3 class="mb-0">8</h3>
              <small class="text-muted">Community Hubs</small>
            </div>
          </div>
          <div class="col-md-3" data-aos="flip-left" data-aos-delay="120">
            <div class="p-3 border rounded-3 bg-white card-shadow">
              <h3 class="mb-0">15k</h3>
              <small class="text-muted">Tutoring Hours</small>
            </div>
          </div>
          <div class="col-md-3" data-aos="flip-left" data-aos-delay="180">
            <div class="p-3 border rounded-3 bg-white card-shadow">
              <h3 class="mb-0">2015</h3>
              <small class="text-muted">Year Founded</small>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- STORIES (carousel-like) -->
    <section id="stories" class="py-5 bg-white">
      <div class="container">
        <h2 class="mb-4">Success Stories</h2>
        <div class="row g-3">
          <div class="col-md-4" data-aos="fade-up">
            <div class="card p-3 rounded-4 card-shadow story-card" data-img="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c">
              <img src="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1200&auto=format&fit=crop" alt="Student Smiling" class="story-img mb-3">
              <h5>Thabo, Grade 12</h5>
              <p>“The mentorship helped me find confidence and choose a career path. I’m now studying IT at college.”</p>
            </div>
          </div>
          <div class="col-md-4" data-aos="fade-up" data-aos-delay="60">
            <div class="card p-3 rounded-4 card-shadow story-card" data-img="https://images.unsplash.com/photo-1523580846011-d3a5bc25702b">
              <img src="https://images.unsplash.com/photo-1523580846011-d3a5bc25702b?q=80&w=1200&auto=format&fit=crop" alt="Mentor and Student" class="story-img mb-3">
              <h5>Ayesha, Grade 10</h5>
              <p>“Tutoring boosted my maths mark by 15%. I’m excited about applying for engineering programs.”</p>
            </div>
          </div>
          <div class="col-md-4" data-aos="fade-up" data-aos-delay="120">
            <div class="card p-3 rounded-4 card-shadow story-card" data-img="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d">
              <img src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=80&w=1200&auto=format&fit=crop" alt="Workshop" class="story-img mb-3">
              <h5>Sipho, Alumni</h5>
              <p>“The CV and interview workshops landed me my first internship. I now volunteer as a mentor.”</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GET INVOLVED (donate + volunteer + sponsor) -->
    <section id="getinvolved" class="py-5">
      <div class="container">
        <div class="row g-4">
          <div class="col-lg-6" data-aos="fade-right">
            <h2>Get Involved</h2>
            <p class="lead">Support BFYF by donating, volunteering, or partnering as a sponsor. Every contribution helps our youth thrive.</p>

            <div class="card mb-3 rounded-4 card-shadow p-3">
              <h5><i class="bi bi-heart-fill text-danger me-1"></i> Donate</h5>
              <p>Help fund tutoring, mentorship and workshops. Every donation counts.</p>
              <a class="btn btn-danger" href="#donate"><i class="bi bi-credit-card-2-front me-1"></i> Donate Now</a>
            </div>

            <div class="card rounded-4 card-shadow p-3">
              <h5><i class="bi bi-person-raise-hand me-1"></i> Volunteer</h5>
              <p>Join as a mentor, tutor or admin volunteer and make a lasting impact.</p>
              <a class="btn btn-warning" href="#volunteer"><i class="bi bi-person-plus-fill me-1"></i> Sign Up</a>
            </div>
          </div>

          <div class="col-lg-6" data-aos="fade-left">
            <img src="https://images.unsplash.com/photo-1528150177502-57d7b2c3d7d6?q=80&w=1600&auto=format&fit=crop" alt="partners meeting" class="img-fluid rounded-4 mb-3 card-shadow">
            <div class="p-4 border rounded-4 bg-white card-shadow">
              <h5 class="fw-bold">Partner With Us</h5>
              <p>Corporate sponsors can fund cohorts, equipment and transport. Let’s build a long-term partnership.</p>
              <a class="btn btn-outline-primary" href="#contact"><i class="bi bi-people-fill me-1"></i> Sponsorship Enquiries</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- VOLUNTEER FORM -->
    <section id="volunteer" class="py-5 bg-white">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-7">
            <div class="card p-4 rounded-4 card-shadow">
              <h3 class="mb-3">Volunteer Sign-Up</h3>
              <p class="text-muted">Join BFYF as a mentor, tutor or admin volunteer and make a lasting impact.</p>
              <form id="volunteerForm" novalidate>
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label">Full Name</label>
                    <input type="text" id="v-fullname" class="form-control" required>
                    <div class="error-msg" id="v-fullname-err"></div>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Email</label>
                    <input type="email" id="v-email" class="form-control" required>
                    <div class="error-msg" id="v-email-err"></div>
                  </div>
                </div>
                <div class="mb-3 mt-3">
                  <label class="form-label">Area of Interest</label>
                  <select id="v-interest" class="form-select" required>
                    <option value="">Choose...</option>
                    <option value="tutoring">Tutoring</option>
                    <option value="mentorship">Mentorship</option>
                    <option value="workshops">Skills Workshops</option>
                    <option value="admin">Admin/Operations</option>
                  </select>
                  <div class="error-msg" id="v-interest-err"></div>
                </div>
                <div class="d-grid">
                  <button class="btn btn-warning btn-lg" type="submit"><i class="bi bi-person-plus-fill me-1"></i> Apply to Volunteer</button>
                </div>
                <p class="mt-3 text-muted">Prefer to donate? <a href="#donate"><i class="bi bi-heart-fill me-1"></i> Donate here</a>.</p>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- DONATE (demo payment flow) -->
    <section id="donate" class="py-5">
      <div class="container">
        <div class="row align-items-center g-4">
          <div class="col-md-6" data-aos="fade-right">
            <h3>Make a Donation</h3>
            <p class="lead">Secure donations fund our tutors, learning materials and transport. This demo uses a sample flow — replace with real payment provider in production.</p>
            <form id="donationForm" class="row g-3 needs-validation" novalidate>
              <div class="col-md-6">
                <label class="form-label">Full Name</label>
                <input id="d-name" class="form-control" required>
                <div class="error-msg" id="d-name-err"></div>
              </div>
              <div class="col-md-6">
                <label class="form-label">Email</label>
                <input id="d-email" type="email" class="form-control" required>
                <div class="error-msg" id="d-email-err"></div>
              </div>
              <div class="col-12 col-md-6">
                <label class="form-label">Amount (ZAR)</label>
                <input id="d-amount" type="number" min="1" class="form-control" required>
                <div class="error-msg" id="d-amount-err"></div>
              </div>
              <div class="col-12">
                <div class="d-flex gap-2">
                  <button type="button" class="btn btn-outline-secondary" data-amount="50">R50</button>
                  <button type="button" class="btn btn-outline-secondary" data-amount="150">R150</button>
                  <button type="button" class="btn btn-outline-secondary" data-amount="300">R300</button>
                </div>
              </div>
              <div class="col-12 d-grid mt-2">
                <button class="btn btn-danger btn-lg" type="submit">Proceed to Pay</button>
              </div>
            </form>
          </div>
          <div class="col-md-6" data-aos="fade-left">
            <div class="p-4 border rounded-4 bg-white card-shadow">
              <h5>Why Donate?</h5>
              <ul>
                <li>Provides trained tutors and learning materials</li>
                <li>Funds transport for learners to attend hubs</li>
                <li>Supports sustainability of community programs</li>
              </ul>
              <p class="text-muted small">Note: This demo does not process real payments. Integrate Stripe/Payfast/Razorpay etc. in production.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT & ENQUIRY combined -->
    <section id="contact" class="py-5 bg-white">
      <div class="container">
        <h2 class="mb-4">Contact Us</h2>
        <div class="row g-4">
          <div class="col-md-6" data-aos="fade-right">
            <form id="contactForm" novalidate>
              <div class="mb-3">
                <label class="form-label">Full Name</label>
                <input id="c-name" class="form-control" required>
                <div class="error-msg" id="c-name-err"></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Email</label>
                <input id="c-email" type="email" class="form-control" required>
                <div class="error-msg" id="c-email-err"></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Message Type</label>
                <select id="c-type" class="form-select" required>
                  <option value="">Select...</option>
                  <option value="general">General</option>
                  <option value="sponsorship">Sponsorship</option>
                  <option value="media">Media</option>
                </select>
                <div class="error-msg" id="c-type-err"></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Message</label>
                <textarea id="c-message" rows="5" class="form-control" required></textarea>
                <div class="error-msg" id="c-message-err"></div>
              </div>
              <div class="d-grid">
                <button class="btn btn-primary btn-lg" type="submit"><i class="bi bi-envelope-fill me-1"></i> Send Message</button>
              </div>
            </form>
          </div>

          <div class="col-md-6" data-aos="fade-left">
            <h5>Our Locations</h5>
            <div id="map" style="height:320px;border-radius:12px;overflow:hidden" class="card-shadow"></div>
            <p class="small text-muted mt-2">We operate multiple community hubs across the city. Click markers for details.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-4 mt-5">
      <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
        <div>&copy; <span id="year"></span> Bright Future Youth Foundation</div>
        <div class="mt-2 mt-md-0">Built with ❤️ • <a href="#about">Our Mission</a></div>
      </div>
    </footer>
  </main>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="lightbox" role="dialog" aria-hidden="true">
    <button id="lbClose" class="btn btn-sm btn-light position-absolute" style="top:1rem;right:1rem"><i class="bi bi-x-lg"></i></button>
    <img id="lbImg" src="" alt="">
  </div>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

  <script>
    // initialise AOS
    AOS.init({duration:700,once:true});

    // dynamic year
    document.getElementById('year').textContent = new Date().getFullYear();

    // LIGHTBOX for story images
    const lightbox = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const lbClose = document.getElementById('lbClose');
    document.querySelectorAll('.story-card').forEach(card => {
      card.addEventListener('click', () => {
        const src = card.getAttribute('data-img');
        lbImg.src = src + '?q=90&w=1600&auto=format&fit=crop';
        lightbox.classList.add('show');
        lightbox.setAttribute('aria-hidden','false');
      });
    });
    lbClose.addEventListener('click', () => {
      lightbox.classList.remove('show');
      lightbox.setAttribute('aria-hidden','true');
      lbImg.src = '';
    });
    lightbox.addEventListener('click', (e) => { if (e.target === lightbox) lbClose.click(); });

    // Simple form validation helper
    function showError(el,msg){
      el.classList.add('invalid');
      const err = document.getElementById(el.id + '-err');
      if(err) err.textContent = msg;
    }
    function clearError(el){
      el.classList.remove('invalid');
      const err = document.getElementById(el.id + '-err');
      if(err) err.textContent = '';
    }
    function validateEmail(email){
      return /\S+@\S+\.\S+/.test(email);
    }

    // Volunteer form
    const volunteerForm = document.getElementById('volunteerForm');
    if(volunteerForm){
      volunteerForm.addEventListener('submit', e => {
        e.preventDefault();
        const name = document.getElementById('v-fullname');
        const email = document.getElementById('v-email');
        const interest = document.getElementById('v-interest');
        let ok = true;
        if(!name.value.trim()){showError(name,'Please enter your full name');ok=false}else clearError(name);
        if(!validateEmail(email.value)){showError(email,'Please enter a valid email');ok=false}else clearError(email);
        if(!interest.value){showError(interest,'Please select an area of interest');ok=false}else clearError(interest);
        if(ok){
          // demo success
          alert('Thanks ' + name.value.trim() + '! Your volunteer application has been received (demo).');
          volunteerForm.reset();
        }
      });
    }

    // Contact form
    const contactForm = document.getElementById('contactForm');
    if(contactForm){
      contactForm.addEventListener('submit', e => {
        e.preventDefault();
        const name = document.getElementById('c-name');
        const email = document.getElementById('c-email');
        const type = document.getElementById('c-type');
        const message = document.getElementById('c-message');
        let ok = true;
        if(!name.value.trim()){showError(name,'Please enter your name');ok=false}else clearError(name);
        if(!validateEmail(email.value)){showError(email,'Please enter a valid email');ok=false}else clearError(email);
        if(!type.value){showError(type,'Please choose a message type');ok=false}else clearError(type);
        if(message.value.trim().length < 10){showError(message,'Message must be at least 10 characters');ok=false}else clearError(message);
        if(ok){
          // compose mailto for demo
          const subject = encodeURIComponent('BFYF - ' + type.value + ' enquiry from ' + name.value);
          const body = encodeURIComponent('Name: ' + name.value + '\nEmail: ' + email.value + '\n\n' + message.value);
          const mailto = `mailto:info@bfyf.org?subject=${subject}&body=${body}`;
          window.location.href = mailto;
        }
      });
    }

    // Donation form quick-select and validation
    const donationForm = document.getElementById('donationForm');
    if(donationForm){
      document.querySelectorAll('#donationForm button[data-amount]').forEach(btn => {
        btn.addEventListener('click', () => {
          document.getElementById('d-amount').value = btn.getAttribute('data-amount');
        });
      });
      donationForm.addEventListener('submit', e => {
        e.preventDefault();
        const name = document.getElementById('d-name');
        const email = document.getElementById('d-email');
        const amount = document.getElementById('d-amount');
        let ok = true;
        if(!name.value.trim()){showError(name,'Please enter your name');ok=false}else clearError(name);
        if(!validateEmail(email.value)){showError(email,'Please enter a valid email');ok=false}else clearError(email);
        if(!(parseFloat(amount.value) > 0)){showError(amount,'Please enter a valid amount');ok=false}else clearError(amount);
        if(ok){
          alert('Demo: donation of R' + amount.value + ' received. Replace with payment gateway in production.');
          donationForm.reset();
        }
      });
    }

    // Simple smooth navigation highlight
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', function(e){
        const target = this.getAttribute('href');
        if(target.length>1){
          e.preventDefault();
          document.querySelector(target).scrollIntoView({behavior:'smooth',block:'start'});
          history.replaceState(null,null,target);
        }
      });
    });

    // Initialise Leaflet map with example hubs
    const mapEl = document.getElementById('map');
    if(mapEl){
      const map = L.map('map').setView([-26.2041,28.0473],11); // Johannesburg as an example
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19,attribution:'© OpenStreetMap'}).addTo(map);
      const hubs = [
        {name:'Central Hub', coords:[-26.2041,28.0473],desc:'Main community hub'},
        {name:'North Hub', coords:[-26.1600,28.0300],desc:'After-school programs'},
        {name:'South Hub', coords:[-26.2400,28.0500],desc:'Mentorship centre'}
      ];
      hubs.forEach(h=>{
        L.marker(h.coords).addTo(map).bindPopup(`<strong>${h.name}</strong><br>${h.desc}`);
      });
    }

    // Accessibility: close modals with Escape
    document.addEventListener('keydown', e => {
      if(e.key === 'Escape'){
        if(lightbox.classList.contains('show')) lbClose.click();
      }
    });

    // Progressive reveal fade-up
    const faders = document.querySelectorAll('.fade-up');
    const obs = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if(entry.isIntersecting) entry.target.classList.add('show');
      });
    }, {threshold:0.15});
    faders.forEach(f=>obs.observe(f));

  </script>
</body>
</html>
